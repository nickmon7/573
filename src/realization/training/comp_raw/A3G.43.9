It had brickworks , cloth mill and farms , and was largely self-sufficient .